defmodule Day01 do
  @moduledoc """
  Documentation for Day01.
  """

  def part2() do
    part2(my_list())
  end

  def part2(input) do
    input
    |> Enum.map(fn x -> fuel_inc_fuel(x) end)
    |> Enum.sum()
  end

  def part1() do
    part1(my_list())
  end

  def part1(input) do
    input
    |> Enum.map(fn x -> fuel(x) end)
    |> Enum.sum()
  end

  def fuel(x), do: div(x, 3) - 2

  def fuel_inc_fuel(x) when x < 0, do: 0

  def fuel_inc_fuel(x) do
    y = fuel(x)

    if y > 0,
      do: fuel_inc_fuel(y) + y,
      else: 0
  end

  def my_list() do
    [
      129_561,
      125_433,
      97919,
      93037,
      73254,
      96511,
      115_676,
      95032,
      69369,
      145_385,
      111_145,
      64368,
      83462,
      95765,
      133_284,
      136_563,
      67439,
      69311,
      147_720,
      92632,
      142_940,
      100_610,
      106_538,
      80025,
      121_672,
      125_386,
      126_601,
      67943,
      120_022,
      95914,
      132_721,
      105_831,
      138_493,
      57649,
      72843,
      81754,
      103_116,
      148_993,
      139_042,
      145_929,
      61039,
      126_034,
      74187,
      60750,
      99048,
      131_776,
      123_137,
      113_098,
      107_571,
      117_050,
      108_649,
      117_455,
      147_443,
      121_863,
      104_952,
      103_465,
      128_718,
      61795,
      121_049,
      112_010,
      74403,
      56153,
      136_161,
      76872,
      94156,
      131_477,
      91769,
      90744,
      118_647,
      135_791,
      98914,
      104_988,
      62070,
      82308,
      71964,
      91477,
      63733,
      84412,
      127_000,
      65449,
      67976,
      51400,
      56045,
      82951,
      101_119,
      143_015,
      99388,
      51796,
      93467,
      63220,
      124_459,
      136_330,
      130_535,
      144_270,
      88616,
      63626,
      139_954,
      92191,
      117_618,
      110_422
    ]
  end
end
